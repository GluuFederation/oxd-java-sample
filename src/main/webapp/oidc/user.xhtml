<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" template="template.xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:param name="stage" value="USER_INFO" />

    <ui:define name="main_content">

        <c:set var="step" value="#{sessionUtil.stage.step}" />

        <div class="well">
            <p>
                You have gone through steps 1 - #{step-1}.
            </p>
        </div>

        <p>The following claims were obtained after consultation of UserInfo Endpoint:</p>
        <pre>#{sessionUtil.userInfoReponseAsJson}</pre>

        <p>
            <br />
            The set of claims in the response depends on the access privileges associated to the Access Token obtained
            in step 5. This can be configured by specifying additional scopes when the site registration occurs in oxd.
        </p>
        <p>
            The <b>sub</b> claim is an identifier for the End-User which is intended to be consumed by the Client.
        </p>

        <p>
            Press the button below to trigger step #{step +1}.

            <div class="col-md-offset-1">
                <h:form>
                    <h:commandButton value="Log out from app" styleClass="btn btn-primary" action="#{sessionUtil.logout('/oidc/logout.xhtml')}"/>
                </h:form>
            </div>
        </p>

    </ui:define>

</ui:composition>